<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ratatonker calc</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/minty/bootstrap.min.css">
</head>

<body>
    <nav class="navbar navbar-expand-sm sticky-top navbar-dark bg-dark">
        <a class="navbar-brand" href="/">rat-stats.pizza</a>

        <ul class="nav justify-content-center nav-pills">
            <li class="nav-item">
                <a class="nav-link  active" href="#">home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="/builds">saved builds</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">faq</a>
            </li>
        </ul>

    </nav>

    <br>

    <div id="app" class="container">

        <div class="row">

            <div class="jumbotron flex-fill">
                <form>
                    <div class="row">
                        <div class="col">
                            <div class="btn-primary btn-lg btn-block"> general settings</div><br>
                            <input v-model.number="number" type="number" value="3"> # of builds </input>
                            <p> does not affect load times :)</p>
                            <div class="custom-control custom-switch">
                                <input v-model.boolean="random" type="checkbox" class="custom-control-input"
                                    id="customSwitch1">
                                <label class="custom-control-label" for="customSwitch1">Randomize Builds?</label>
                            </div>
                            <div class="custom-control custom-switch">
                                <input v-model.boolean="use_acorns" type="checkbox" class="custom-control-input"
                                    id="customSwitch2">
                                <label class="custom-control-label" for="customSwitch2">Include Acorns?</label>
                            </div>
                            Disabling this generates 6 non-acorn items, in case for some reason you aren't playing
                            rat.
                        </div>
                        <div class="col">
                            <div class="btn-primary btn-lg btn-block"> stat spread priority</div><br>
                            power: {{power}} <input v-model.number="power" v-bind:class="{'disabled': !random}"
                                type="range" class="custom-range"> </input>
                            def: {{def}} <input v-model.number="def" type="range" v-bind:class="{'disabled': !random}"
                                class="custom-range"> </input>
                            mdf: {{mdf}} <input v-model.number="mdf" type="range" v-bind:class="{'disabled': !random}"
                                class="custom-range"> </input>
                            util: {{util}} <input v-model.number="util" type="range"
                                v-bind:class="{'disabled': !random}" class="custom-range"> </input>
                        </div>
                    </div>

                </form>
                <p class="lead">
                    <a v-on:click="search" class="btn btn-primary btn-md" href="#" role="button">Generate Builds</a>
                </p>
                <p>
                    please be patient :) there are ~28M item combos to calc.... `s` (progress is logged in JS console)
                </p>
                <div class="progress">
                    <div id="prog" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                        style="width: 0%"></div>
                </div>
            </div>


        </div>

        <div class="row">

            <div v-for="(rat, i) in rat_list">
                <div class="card bg-light border-warning mb-3 " style="padding: 1em">
                    <div class="row">
                        <div class="col-xs-1-12">
                            <h3> stats</h3>
                            <h4> effective hp:
                                <span class="text-danger">
                                    {{rat.effective_hp.phys}}
                                </span>
                                <span class="text-info">
                                    {{rat.effective_hp.magic}}
                                </span>
                            </h4>
                            <table class="table table-striped table-inverse table-responsive">
                                <thead class="thead-inverse">
                                    <tr>
                                        <th>power</th>
                                        <th>pen</th>
                                        <th>%pen</th>
                                        <th>vamp%</th>
                                        <th>crit%</th>
                                        <th>atk spd%</th>
                                        <th>speed%</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td scope="row">{{rat.stats.pwr}}</td>
                                        <td>{{rat.stats.pen}}</td>
                                        <td>{{rat.stats.pencent}}</td>
                                        <td>{{rat.stats.vamp}}</td>
                                        <td>{{rat.stats.crit}}</td>
                                        <td>{{rat.stats.atk}}</td>
                                        <td>{{rat.stats.speed}}</td>
                                    </tr>
                                </tbody>
                                <thead class="thead-inverse">
                                    <tr>
                                        <th>def</th>
                                        <th>mdf</th>
                                        <th>mitigation%</th>
                                        <th>hp</th>
                                        <th>mana</th>
                                        <th>cdr%</th>
                                        <th>ccr%</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td scope="row">{{rat.stats.def}}</td>
                                        <td>{{rat.stats.mdf}}</td>
                                        <td>{{rat.stats.mit}}</td>
                                        <td>{{rat.stats.hp}}</td>
                                        <td>{{rat.stats.mana}}</td>
                                        <td>{{rat.stats.cdr}}</td>
                                        <td>{{rat.stats.ccr}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <h3> <button v-on:click="save(rat)" class="btn btn-success">Save Build</button> items </h3> <br>
                    <div class="row flex-fill">

                        <div v-for="item in rat.items" class="card text-white bg-primary mb-3"
                            style="max-width: 20rem; margin: 0.5em">
                            <div class="card-header">{{item.name}}</div>
                            <div class="card-body">
                                <span v-for="(st, nm) in item.stats">
                                    <strong class="text-secondary">{{nm}}: </strong>{{st}}
                                </span>

                                <p class="card-text">
                                    passive: {{item.passive}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="index.js"></script>
</body>

</html>